{"version":3,"file":"static/js/91.eb568450.chunk.js","mappings":"iOAEaA,EAAcC,EAAAA,KAAaC,MAAM,CAC5CC,MAAOF,EAAAA,KAAaG,SAAS,qBAC7BC,SAAUJ,EAAAA,KAAaG,SAAS,0BCHlC,EAA4B,6BAA5B,EAAiE,yBAAjE,EAAiG,wBAAjG,EAAiI,yBAAjI,EAAkK,yBAAlK,EAAiM,uBAAjM,EAAsO,+BAAtO,EAA4Q,wBAA5Q,EAAiT,8BAAjT,EAA+V,iC,UCUlVE,EAAY,WACvB,IAAMC,GAAWC,EAAAA,EAAAA,MAiBjB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAiBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAaC,SAAC,WAC7BC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CACLC,cAAe,CACbZ,MAAO,GACPE,SAAU,IAEZW,iBAAkBhB,EAClBiB,SAxBe,SAACC,EAAQC,GAC5BZ,GAASa,EAAAA,EAAAA,IAAMF,IACZG,MAAK,SAAAC,GACJ,GAA+B,aAA3BA,EAAIC,KAAKC,cACX,MAAM,IAAIC,MAAM,6BAElBC,EAAAA,GAAMC,KAAK,WAADC,OAAYN,EAAIO,QAAQC,KAAKC,MACzC,IACCC,OAAM,SAAAC,GACLP,EAAAA,GAAMQ,MAAMD,EAAEE,QAChB,IAEFhB,EAAOiB,WACT,EAW6BxB,UAEvBH,EAAAA,EAAAA,MAAC4B,EAAAA,GAAI,CAAC3B,UAAWC,EAAa2B,aAAa,KAAI1B,SAAA,EAC7CH,EAAAA,EAAAA,MAAA,SAAOC,UAAWC,EAAaC,SAAA,CAAC,SAE9BC,EAAAA,EAAAA,KAAC0B,EAAAA,GAAK,CAAC7B,UAAWC,EAAc6B,KAAK,QAAQT,KAAK,WAClDlB,EAAAA,EAAAA,KAAC4B,EAAAA,GAAY,CACX/B,UAAWC,EACXoB,KAAK,QACLW,UAAU,aAIdjC,EAAAA,EAAAA,MAAA,SAAOC,UAAWC,EAAaC,SAAA,CAAC,YAE9BC,EAAAA,EAAAA,KAAC0B,EAAAA,GAAK,CAAC7B,UAAWC,EAAc6B,KAAK,WAAWT,KAAK,cACrDlB,EAAAA,EAAAA,KAAC4B,EAAAA,GAAY,CACX/B,UAAWC,EACXoB,KAAK,WACLW,UAAU,aAId7B,EAAAA,EAAAA,KAAA,UAAQH,UAAWC,EAAY6B,KAAK,SAAQ5B,SAAC,WAI7CH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAmBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,4BACHC,EAAAA,EAAAA,KAAC8B,EAAAA,GAAI,CAACC,GAAG,YAAYlC,UAAWC,EAAYC,SAAC,sBAQzD,ECrEA,EAJkB,WAChB,OAAOC,EAAAA,EAAAA,KAACP,EAAS,GACnB,C","sources":["helpers/validationSchemas/loginSchema.js","webpack://phonebook/./src/components/LoginForm/LoginForm.module.css?4ac5","components/LoginForm/LoginForm.jsx","pages/LoginPage.jsx"],"sourcesContent":["import * as Yup from 'yup';\n\nexport const LoginSchema = Yup.object().shape({\n  email: Yup.string().required('Email is required'),\n  password: Yup.string().required('Password is required'),\n});\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"LoginForm_container__YDFcb\",\"title\":\"LoginForm_title__5FilZ\",\"form\":\"LoginForm_form__gPEx5\",\"label\":\"LoginForm_label__F7sLE\",\"input\":\"LoginForm_input__aQRtt\",\"btn\":\"LoginForm_btn__B2KLK\",\"signWrapper\":\"LoginForm_signWrapper__oVFDV\",\"link\":\"LoginForm_link__IJw1a\",\"errorEmail\":\"LoginForm_errorEmail__ibi3o\",\"errorPassword\":\"LoginForm_errorPassword__8J0HL\"};","import { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { ErrorMessage, Field, Formik, Form } from 'formik';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { login } from 'redux/auth/operations';\nimport { LoginSchema } from 'helpers/validationSchemas/loginSchema';\n\nimport styles from './LoginForm.module.css';\n\nexport const LoginForm = () => {\n  const dispatch = useDispatch();\n\n  const handleSubmit = (values, action) => {\n    dispatch(login(values))\n      .then(res => {\n        if (res.meta.requestStatus === 'rejected') {\n          throw new Error('Invalid email or password');\n        }\n        toast.info(`Welcome ${res.payload.user.name}`);\n      })\n      .catch(e => {\n        toast.error(e.message);\n      });\n\n    action.resetForm();\n  };\n\n  return (\n    <div className={styles.container}>\n      <h2 className={styles.title}>LOGIN</h2>\n      <Formik\n        initialValues={{\n          email: '',\n          password: '',\n        }}\n        validationSchema={LoginSchema}\n        onSubmit={handleSubmit}\n      >\n        <Form className={styles.form} autoComplete=\"on\">\n          <label className={styles.label}>\n            Email\n            <Field className={styles.input} type=\"email\" name=\"email\" />\n            <ErrorMessage\n              className={styles.errorEmail}\n              name=\"email\"\n              component=\"span\"\n            />\n          </label>\n\n          <label className={styles.label}>\n            Password\n            <Field className={styles.input} type=\"password\" name=\"password\" />\n            <ErrorMessage\n              className={styles.errorPassword}\n              name=\"password\"\n              component=\"span\"\n            />\n          </label>\n\n          <button className={styles.btn} type=\"submit\">\n            LOGIN\n          </button>\n\n          <div className={styles.signWrapper}>\n            <p>Don't have an account?</p>\n            <Link to=\"/register\" className={styles.link}>\n              Sign Up\n            </Link>\n          </div>\n        </Form>\n      </Formik>\n    </div>\n  );\n};\n","import { LoginForm } from 'components/LoginForm/LoginForm';\n\nconst LoginPage = () => {\n  return <LoginForm />;\n};\n\nexport default LoginPage;\n"],"names":["LoginSchema","Yup","shape","email","required","password","LoginForm","dispatch","useDispatch","_jsxs","className","styles","children","_jsx","Formik","initialValues","validationSchema","onSubmit","values","action","login","then","res","meta","requestStatus","Error","toast","info","concat","payload","user","name","catch","e","error","message","resetForm","Form","autoComplete","Field","type","ErrorMessage","component","Link","to"],"sourceRoot":""}