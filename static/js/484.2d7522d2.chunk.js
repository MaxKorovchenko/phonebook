"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[484],{5484:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(5705),a=t(6727),s=t(9434),o=function(e){return e.contacts.items},c=function(e){return e.contacts.error},i="ContactsForm_form__1Y65-",l="ContactsForm_label__Z7jht",u="ContactsForm_input__UjXFK",m="ContactsForm_btn__qImoL",d="ContactsForm_message__ZE1AW",f=t(3634),x=t(3329),_=a.Ry().shape({name:a.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Please, enter contact name"),number:a.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Please, enter phone number")}),h=function(){var e=(0,s.v9)(o),n=(0,s.I0)();return(0,x.jsx)(r.J9,{initialValues:{name:"",number:""},validationSchema:_,onSubmit:function(t,r){if(e.find((function(e){return e.name===t.name})))return alert("".concat(t.name," is already in contacts."));n((0,f.uK)(t)),r.resetForm()},children:(0,x.jsxs)(r.l0,{className:i,autoComplete:"off",children:[(0,x.jsxs)("label",{className:l,children:["Name",(0,x.jsx)(r.gN,{className:u,type:"text",name:"name",required:!0}),(0,x.jsx)(r.Bc,{className:d,name:"name",component:"span"})]}),(0,x.jsxs)("label",{className:l,children:["Number",(0,x.jsx)(r.gN,{className:u,type:"tel",name:"number",required:!0}),(0,x.jsx)(r.Bc,{className:d,name:"number",component:"span"})]}),(0,x.jsx)("button",{className:m,type:"submit",children:"Add contact"})]})})},b=t(4165),p=t(5861),j=t(9439),v=t(2791),C=t(6564),N="ContactItem_wrapper__7BnvP",g="ContactItem_btn__1h5dG",y=t(4164),E="Modal_overlay__r63M6",w="Modal_modal__DJDMv",k="Modal_btn__ghtlt",F=document.querySelector("#modal-root"),S=function(e){var n=e.onClose,t=e.children;(0,v.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n]);return(0,y.createPortal)((0,x.jsx)("div",{className:E,onClick:function(e){e.target===e.currentTarget&&n()},children:(0,x.jsxs)("div",{className:w,children:[t,(0,x.jsx)("button",{className:k,type:"button",onClick:n,children:"X"})]})}),F)},Z="EditForm_container__JERz0",q="EditForm_form__AqHH5",I="EditForm_label__Aqw6C",L="EditForm_btn__HQBGr",P=function(e){var n=e.onClose,t=e.id,r=e.name,a=e.number,o=(0,v.useState)(r),c=(0,j.Z)(o,2),i=c[0],l=c[1],u=(0,v.useState)(a),m=(0,j.Z)(u,2),d=m[0],_=m[1],h=(0,s.I0)();return(0,x.jsx)("div",{className:Z,children:(0,x.jsxs)("form",{className:q,onSubmit:function(e){e.preventDefault(),h((0,f.mP)({id:t,name:i,number:d})),n(),e.target.reset()},autoComplete:"off",children:[(0,x.jsxs)("label",{className:I,children:["Username",(0,x.jsx)("input",{type:"text",name:"name",value:i,onChange:function(e){return l(e.target.value)},required:!0})]}),(0,x.jsxs)("label",{className:I,children:["Number",(0,x.jsx)("input",{type:"tel",name:"number",value:d,onChange:function(e){return _(e.target.value)},required:!0})]}),(0,x.jsx)("button",{className:L,children:"EDIT CONTACT"})]})})},A=function(e){var n=e.id,t=e.name,r=e.number,a=(0,v.useState)(!1),o=(0,j.Z)(a,2),c=o[0],i=o[1],l=(0,v.useState)(!1),u=(0,j.Z)(l,2),m=u[0],d=u[1],_=(0,s.I0)(),h=function(){var e=(0,p.Z)((0,b.Z)().mark((function e(){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,_((0,f.GK)(n));case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("p",{children:[t,": ",r]}),(0,x.jsxs)("div",{className:N,children:[(0,x.jsx)("button",{className:g,type:"button",onClick:function(){return i(!0)},children:"Edit"}),(0,x.jsx)("button",{className:g,type:"button",onClick:h,disabled:m,children:m?(0,x.jsx)(C.Z,{color:"#fff",size:15}):"Delete"})]}),c&&(0,x.jsx)(S,{onClose:function(){return i(!1)},children:(0,x.jsx)(P,{onClose:function(){return i(!1)},id:n,name:t,number:r})})]})},T=function(e){return e.filter},B="ContactsList_section__IE6+j",D="ContactsList_title__Nc-fb",M="ContactsList_item__6gc1x",z=function(){var e=(0,s.v9)(o),n=(0,s.v9)(T),t=function(){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}();return(0,x.jsxs)("section",{className:B,children:[(0,x.jsx)("h2",{className:D,children:"Contacts"}),(0,x.jsx)("ul",{children:t.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,x.jsx)("li",{className:M,children:(0,x.jsx)(A,{id:n,name:t,number:r})},n)}))})]})},H=t(1273),K="Filter_label__vEd1E",O="Filter_input__N7T3z",G=function(){var e=(0,s.v9)(T),n=(0,s.I0)();return(0,x.jsxs)("label",{className:K,children:["Find contacts by name",(0,x.jsx)("input",{className:O,type:"text",value:e,onChange:function(e){return n((0,H.T)(e.target.value))},autoComplete:"off"})]})},J={container:{width:800,margin:"20px auto",padding:20,boxShadow:"1px 1px 10px 5px rgb(224, 213, 213)",backgroundColor:"rgb(61, 50, 160)"},title:{marginBottom:30,color:"aliceblue",textAlign:"center",letterSpacing:"0.03em",textShadow:"2px 2px 10px rgb(1, 10, 13)"}},R=function(){var e=(0,s.v9)(c),n=(0,s.I0)();return(0,v.useEffect)((function(){n((0,f.mk)())}),[n]),(0,x.jsxs)("div",{style:J.container,children:[(0,x.jsx)("h1",{style:J.title,children:"PHONEBOOK APP"}),(0,x.jsx)(h,{}),(0,x.jsx)(G,{}),e&&(0,x.jsx)("h2",{style:{textAlign:"center",fontSize:24,color:"aliceblue",padding:20},children:"something went wrong \ud83d\ude25"}),(0,x.jsx)(z,{})]})}}}]);
//# sourceMappingURL=484.2d7522d2.chunk.js.map