"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[74],{8074:function(e,n,t){t.r(n),t.d(n,{default:function(){return ae}});var r=t(2791),a=t(9434),o=t(5705),s=t(8174),c=(t(5462),function(e){return e.contacts.items}),i=function(e){return e.contacts.error},l=t(3634),u=t(6727),m=u.Ry().shape({name:u.Z_().min(2).max(30).required("Please, enter contact name"),number:u.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Valid phone numbers may consist of digits, spaces, dashes, parentheses, and may start with a plus sign").required("Please, enter phone number")}),d="ContactsForm_form__1Y65-",p="ContactsForm_label__Z7jht",f="ContactsForm_input__UjXFK",h="ContactsForm_btn__qImoL",_="ContactsForm_message__ZE1AW",b=t(3329),v=function(){var e=(0,a.v9)(c),n=(0,a.I0)();return(0,b.jsx)(o.J9,{initialValues:{name:"",number:""},validationSchema:m,onSubmit:function(t,r){if(e.find((function(e){return e.name===t.name})))return s.Am.error("".concat(t.name," is already in contacts."));n((0,l.uK)(t)).then((function(e){if("rejected"===e.meta.requestStatus)throw new Error("Failed to add contact. Please try again.");s.Am.info("".concat(e.payload.name," successfully added to your phonebook."))})).catch((function(e){s.Am.error(e.message)})),r.resetForm()},children:(0,b.jsxs)(o.l0,{className:d,autoComplete:"off",children:[(0,b.jsxs)("label",{className:p,children:["Name",(0,b.jsx)(o.gN,{className:f,type:"text",name:"name",required:!0}),(0,b.jsx)(o.Bc,{className:_,name:"name",component:"span"})]}),(0,b.jsxs)("label",{className:p,children:["Number",(0,b.jsx)(o.gN,{className:f,type:"tel",name:"number",required:!0}),(0,b.jsx)(o.Bc,{className:_,name:"number",component:"span"})]}),(0,b.jsx)("button",{className:h,type:"submit",children:"Add contact"})]})})},x=t(4165),j=t(5861),y=t(9439),N={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function g(e){var n=function(e){if("number"===typeof e)return{value:e,unit:"px"};var n,t=(e.match(/^[0-9.]*/)||"").toString();n=t.includes(".")?parseFloat(t):parseInt(t,10);var r=(e.match(/[^0-9]*$/)||"").toString();return N[r]?{value:n,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(n,"px.")),{value:n,unit:"px"})}(e);return"".concat(n.value).concat(n.unit)}var C=function(){return C=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},C.apply(this,arguments)},w=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},E=function(e,n,t){var r="react-spinners-".concat(e,"-").concat(t);if("undefined"==typeof window||!window.document)return r;var a=document.createElement("style");document.head.appendChild(a);var o=a.sheet,s="\n    @keyframes ".concat(r," {\n      ").concat(n,"\n    }\n  ");return o&&o.insertRule(s,0),r}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");var F=function(e){var n=e.loading,t=void 0===n||n,a=e.color,o=void 0===a?"#000000":a,s=e.speedMultiplier,c=void 0===s?1:s,i=e.cssOverride,l=void 0===i?{}:i,u=e.size,m=void 0===u?35:u,d=w(e,["loading","color","speedMultiplier","cssOverride","size"]),p=C({background:"transparent !important",width:g(m),height:g(m),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(E," ").concat(.75/c,"s 0s infinite linear"),animationFillMode:"both"},l);return t?r.createElement("span",C({style:p},d)):null},k=t(4164),O="Modal_overlay__r63M6",S="Modal_modal__DJDMv",P="Modal_btn__ghtlt",I=document.querySelector("#modal-root"),T=function(e){var n=e.onClose,t=e.children;(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n]);return(0,k.createPortal)((0,b.jsx)("div",{className:O,onClick:function(e){e.target===e.currentTarget&&n()},children:(0,b.jsxs)("div",{className:S,children:[t,(0,b.jsx)("button",{className:P,type:"button",onClick:n,children:"X"})]})}),I)},q=t(1413),A="EditForm_form__AqHH5",L="EditForm_label__Aqw6C",Z="EditForm_input__-9yye",M="EditForm_btn__HQBGr",B="EditForm_errorName__t2cA3",R="EditForm_errorNumber__rkyLw",D=function(e){var n=e.onClose,t=e.id,r=e.name,s=e.number,c=(0,a.I0)();return(0,b.jsx)(o.J9,{initialValues:{name:r,number:s},validationSchema:m,onSubmit:function(e,r){c((0,l.mP)((0,q.Z)({id:t},e))),n(),r.resetForm()},children:(0,b.jsxs)(o.l0,{className:A,autoComplete:"off",children:[(0,b.jsxs)("label",{className:L,children:["Name",(0,b.jsx)(o.gN,{className:Z,type:"text",name:"name",required:!0}),(0,b.jsx)(o.Bc,{className:B,name:"name",component:"span"})]}),(0,b.jsxs)("label",{className:L,children:["Number",(0,b.jsx)(o.gN,{className:Z,type:"tel",name:"number",required:!0}),(0,b.jsx)(o.Bc,{className:R,name:"number",component:"span"})]}),(0,b.jsx)("button",{className:M,type:"submit",children:"EDIT CONTACT"})]})})},G="ContactItem_wrapper__7BnvP",z="ContactItem_btn__1h5dG",K=function(e){var n=e.id,t=e.name,o=e.number,s=(0,r.useState)(!1),c=(0,y.Z)(s,2),i=c[0],u=c[1],m=(0,r.useState)(!1),d=(0,y.Z)(m,2),p=d[0],f=d[1],h=(0,a.I0)(),_=function(){var e=(0,j.Z)((0,x.Z)().mark((function e(){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,h((0,l.GK)(n));case 3:f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{children:[t,": ",o]}),(0,b.jsxs)("div",{className:G,children:[(0,b.jsx)("button",{className:z,type:"button",onClick:function(){return u(!0)},children:"Edit"}),(0,b.jsx)("button",{className:z,type:"button",onClick:_,disabled:p,children:p?(0,b.jsx)(F,{color:"#fff",size:15}):"Delete"})]}),i&&(0,b.jsx)(T,{onClose:function(){return u(!1)},children:(0,b.jsx)(D,{onClose:function(){return u(!1)},id:n,name:t,number:o})})]})},H=function(e){return e.filter},J="ContactsList_section__IE6+j",V="ContactsList_item__6gc1x",X="ContactsList_message__G8GbT",Y=function(){var e=(0,a.v9)(c),n=(0,a.v9)(H),t=function(){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}();return(0,b.jsx)("section",{className:J,children:e.length>0?(0,b.jsx)("ul",{children:t.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,b.jsx)("li",{className:V,children:(0,b.jsx)(K,{id:n,name:t,number:r})},n)}))}):(0,b.jsx)("p",{className:X,children:"Your contacts will be here"})})},Q=t(1273),$="Filter_label__vEd1E",U="Filter_input__N7T3z",W=function(){var e=(0,a.v9)(c),n=(0,a.v9)(H),t=(0,a.I0)();return(0,b.jsxs)("label",{className:$,children:["Find contacts by name:",(0,b.jsx)("input",{className:U,type:"text",value:n,onChange:function(e){return t((0,Q.T)(e.target.value))},placeholder:"Total contacts: ".concat(e.length),autoComplete:"off"})]})},ee="ContactsPage_container__BubeA",ne="ContactsPage_wrapper__K+nRb",te="ContactsPage_title__X03js",re="ContactsPage_error__MQYnv",ae=function(){var e=(0,a.v9)(i),n=(0,a.I0)();return(0,r.useEffect)((function(){n((0,l.mk)())}),[n]),(0,b.jsxs)("div",{className:ee,children:[(0,b.jsx)("h2",{className:te,children:"CONTACTS"}),(0,b.jsxs)("div",{className:ne,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(v,{}),(0,b.jsx)(W,{})]}),(0,b.jsx)(Y,{})]}),e&&(0,b.jsx)("h2",{className:re,children:"Something went wrong \ud83d\ude25. Try again later"})]})}},5462:function(){}}]);
//# sourceMappingURL=74.8f04f342.chunk.js.map